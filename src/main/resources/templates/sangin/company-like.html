<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout_dir/layout/main_layout}">
<head>
    <meta charset="UTF-8">
    <title>관심기업</title>
    <link rel="stylesheet" href="/css/company-like.css">
</head>
<body layout:fragment="content">
<section>
    <div id="section1">
        스크랩/관심기업
    </div>
    <div id="section2">
        <div id="section2_box1">
            <a href="/view/users/like/jpl" id="scrap_post">스크랩</a>
            <div id="post_num">132</div>
        </div>
        <div id="section2_box2">
            <div id="bookmark_com">관심기업</div>
            <div id="com_num">12</div>
        </div>
    </div>
    <!-- 기업 상세 정보 반복 -->
    <div id="section3">
        <div id="com_detail">
            <div id="detail_upper">
                <div id="com_logo">
                    <img th:src="${companyImage}" alt="회사 로고">
                </div>
                <div id="heart" class="uncolorheart"></div>
            </div>
            <div id="detail_lower">
                <div id="com_name" th:text="${companyName}">회사명</div>
                <div id="job_post_list">
                    <div class="job_post" th:text="${title}">공고명</div>
                    <div class="job_post" th:text="${title}">공고명</div>
                    <div class="job_post" th:text="${title}">공고명</div>
                </div>
            </div>
        </div>
        <div id="com_detail">
            <div id="detail_upper">
                <div id="com_logo">
                    <img th:src="${companyImage}" alt="회사 로고">
                </div>
                <div id="heart" class="uncolorheart"></div>
            </div>
            <div id="detail_lower">
                <div id="com_name" th:text="${companyName}">회사명</div>
                <div id="job_post_list">
                    <div class="job_post" th:text="${title}">공고명</div>
                    <div class="job_post" th:text="${title}">공고명</div>
                    <div class="job_post" th:text="${title}">공고명</div>
                </div>
            </div>
        </div>
        <div id="com_detail">
            <div id="detail_upper">
                <div id="com_logo">
                    <img th:src="${companyImage}" alt="회사 로고">
                </div>
                <div id="heart" class="uncolorheart"></div>
            </div>
            <div id="detail_lower">
                <div id="com_name" th:text="${companyName}">회사명</div>
                <div id="job_post_list">
                    <div class="job_post" th:text="${title}">공고명</div>
                    <div class="job_post" th:text="${title}">공고명</div>
                    <div class="job_post" th:text="${title}">공고명</div>
                </div>
            </div>
        </div>
        <div id="com_detail">
            <div id="detail_upper">
                <div id="com_logo">
                    <img th:src="${companyImage}" alt="회사 로고">
                </div>
                <div id="heart" class="uncolorheart"></div>
            </div>
            <div id="detail_lower">
                <div id="com_name" th:text="${companyName}">회사명</div>
                <div id="job_post_list">
                    <div class="job_post" th:text="${title}">공고명</div>
                    <div class="job_post" th:text="${title}">공고명</div>
                    <div class="job_post" th:text="${title}">공고명</div>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    const hearts = document.querySelectorAll("#heart");

    hearts.forEach(heart => {
        heart.addEventListener("click", () => {
            // 불러올 때 비동기로 불러오고
            // axios.get()
            // 데이터 불러오면
            // 공고 만들어주고 북마크도 만들어주고
            // 북마크가 트루면 true heart
            // 북마크가 false면 false heart
            //
            if(heart.classList.contains("uncolorheart")){
                // true heart 면
                // false heart class 로 전환해줘야함
                heart.classList.remove("uncolorheart");
                heart.classList.add("colorheart");
                alert("북마크 되었습니다");
            }else if(heart.classList.contains("colorheart")){
                // false heart 면
                // true heart 스타일이나 이미지로 교체해줘야함
                // 이미지 찾아놔야겠다
                heart.classList.remove("colorheart");
                heart.classList.add("uncolorheart");
                alert("북마크가 취소되었습니다");
            }
        })
    })
</script>
</body>
</html>
