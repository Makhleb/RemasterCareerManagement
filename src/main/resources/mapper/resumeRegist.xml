<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.test.dao.gyeonguk.ResumeDao">



        <!-- 이력서 제목 및 인적사항 저장 -->
        <insert id="insertPersonalInfo" parameterType="com.example.test.dto.ResumeDTO">
            INSERT INTO tblResume (
            userId,
            title,
            addressDetail,
            address,
            zonecode,
            headshot,
            wishArea,
            wishSalary,
            wishTime,
            workCode
            ) VALUES (
            #{userId},
            #{title},
            #{addressDetail},
            #{address},
            #{zonecode},
            #{headshot},
            #{wishArea},
            #{wishSalary},
            #{wishTime},
            #{workCode}
            )
        </insert>

        <!-- 활동 정보 저장 -->
        <insert id="insertActivityInfo" parameterType="com.example.test.dto.ActivityDTO">
            INSERT INTO tblActivity (
            resumeNo,
            activityType,
            activityOrder,
            startDate,
            endDate,
            activityCenterName,
            activityContent
            ) VALUES (
            #{resumeNo},
            #{activityType},
            #{activityOrder},
            #{startDate},
            #{endDate},
            #{activityCenterName},
            #{activityContent}
            )
        </insert>

        <!-- 학력 저장 -->
        <insert id="insertEducationInfo" parameterType="com.example.test.dto.EducationDTO">
            INSERT INTO tblEducation (
            resumeNo,
            educationCode,
            schoolName,
            enterDate,
            graduateDate
            ) VALUES (
            #{resumeNo},
            #{educationCode},
            #{schoolName},
            #{enterDate},
            #{graduateDate}
            )
        </insert>

        <!-- 자격증 저장 -->
        <insert id="insertLicenseInfo" parameterType="com.example.test.dto.LicenseDTO">
            INSERT INTO tblLicense (
            resumeNo,
            licenseName,
            licenseCenterName,
            passDate
            ) VALUES (
            #{resumeNo},
            #{licenseName},
            #{licenseCenterName},
            #{passDate}
            )
        </insert>

        <!-- 병역 사항 저장 -->
        <insert id="insertMilitaryInfo" parameterType="com.example.test.dto.MilitaryDTO">
            INSERT INTO tblMilitary (
            resumeNo,
            militaryType,
            enlistDate,
            releaseDate
            ) VALUES (
            #{resumeNo},
            #{militaryType},
            #{enlistDate},
            #{releaseDate}
            )
        </insert>

        <!-- 포트폴리오 저장 -->
        <insert id="insertPortfolioInfo" parameterType="com.example.test.dto.PotfolioDTO">
            INSERT INTO tblPortfolio (
            resumeNo,
            gubn,
            portfolioFilename
            ) VALUES (
            #{resumeNo},
            #{gubn},
            #{portfolioFilename}
            )
        </insert>

        <!-- 자기소개서 저장 -->
        <insert id="insertIntro" parameterType="com.example.test.dto.IntroduceDTO">
            INSERT INTO tblIntroduce (
            resumeNo,
            content
            ) VALUES (
            #{resumeNo},
            #{content}
            )
        </insert>

        <!-- 유저 정보 조회 -->
        <select id="selectUserInfo" parameterType="string" resultType="com.example.test.dto.ResumeDTO">
            SELECT
            userId,
            title,
            addressDetail,
            address,
            zonecode,
            headshot,
            wishArea,
            wishSalary,
            wishTime,
            workCode
            FROM tblResume
            WHERE userId = #{userId}
        </select>

    </mapper>



